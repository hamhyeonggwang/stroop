<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stroop Game for Kids</title>
  <style>
    body {
      background: #f9edcc;
      font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }
    .container {
      width: 100%;
      max-width: 420px;
      margin: 0 auto;
      padding: 24px 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      color: #f28c28;
      font-size: 3rem;
      margin: 0.5em 0 0.2em 0;
      text-align: center;
      letter-spacing: 2px;
    }
    .mode-select {
      display: flex;
      flex-direction: column;
      gap: 18px;
      margin: 2em 0 1em 0;
      width: 100%;
    }
    .mode-btn {
      font-size: 1.5rem;
      font-weight: bold;
      border: none;
      border-radius: 18px;
      padding: 1em 0;
      width: 100%;
      cursor: pointer;
      transition: transform 0.1s;
      box-shadow: 0 2px 8px #0001;
    }
    .mode-btn.kor { background: #f28c28; color: #fff; }
    .mode-btn.eng { background: #6fa8dc; color: #fff; }
    .mode-btn.shape { background: #93c47d; color: #fff; }
    .mode-btn.baby { background: #ffd966; color: #b45f06; }
    .game-area {
      margin-top: 2em;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .question {
      font-size: 2.2rem;
      font-weight: bold;
      margin-bottom: 1.5em;
      min-height: 2.5em;
      text-align: center;
    }
    .choices {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 18px;
      width: 100%;
    }
    .choice-btn {
      font-size: 1.5rem;
      font-weight: bold;
      border: none;
      border-radius: 16px;
      padding: 1.2em 0;
      cursor: pointer;
      transition: background 0.1s, transform 0.1s;
      box-shadow: 0 2px 8px #0001;
    }
    .choice-btn:active {
      transform: scale(0.97);
    }
    .result {
      font-size: 1.3rem;
      margin: 1.5em 0 0.5em 0;
      min-height: 2em;
      text-align: center;
    }
    .next-btn {
      margin-top: 1em;
      font-size: 1.2rem;
      padding: 0.7em 2em;
      border-radius: 12px;
      border: none;
      background: #f28c28;
      color: #fff;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 2px 8px #0001;
    }
    @media (max-width: 500px) {
      .container { padding: 10px 0; }
      h1 { font-size: 2.1rem; }
      .question { font-size: 1.3rem; }
      .mode-btn, .choice-btn { font-size: 1.1rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>STROOP<br>GAME</h1>
    <div id="modeScreen" class="mode-select">
      <div id="difficultyArea" style="display:flex;gap:10px;justify-content:center;margin-bottom:1em;">
        <button class="mode-btn" style="background:#ffd966;color:#b45f06;" onclick="selectDifficulty('easy')">ì‰¬ì›€</button>
        <button class="mode-btn" style="background:#6fa8dc;color:#fff;" onclick="selectDifficulty('normal')">ë³´í†µ</button>
        <button class="mode-btn" style="background:#e06666;color:#fff;" onclick="selectDifficulty('hard')">ì–´ë ¤ì›€</button>
      </div>
      <button class="mode-btn kor" onclick="selectMode('kor')">í•œê¸€ ëª¨ë“œ</button>
      <button class="mode-btn eng" onclick="selectMode('eng')">ì˜ì–´ ëª¨ë“œ</button>
      <button class="mode-btn shape" onclick="selectMode('shape')">ëª¨ì–‘ ëª¨ë“œ</button>
      <button class="mode-btn baby" onclick="selectMode('baby')">ë² ì´ë¹„ ëª¨ë“œ</button>
    </div>
    <div id="startScreen" class="game-area" style="display:none;">
      <div id="selectedModeTitle" class="question"></div>
      <button class="next-btn" style="margin-top:2em;" onclick="startGame()">ê²Œì„ ì‹œì‘</button>
      <button class="next-btn" style="margin-top:2em;background:#6fa8dc;" onclick="goToModeSelect()">ê²Œì„ ì„ íƒí™”ë©´ìœ¼ë¡œ</button>
    </div>
    <div id="gameArea" class="game-area" style="display:none;"></div>
    <div id="timerArea" style="display:none;width:100%;margin-top:1em;justify-content:center;align-items:center;">
      <span style="font-size:1.5em;">ğŸ•’</span>
      <span id="timer" style="font-size:1.3em;margin-left:0.5em;min-width:3em;display:inline-block;">0.0</span>
      <span style="font-size:1.1em;margin-left:0.2em;">ì´ˆ</span>
    </div>
  </div>
  <script>
    // ë¬¸ì œ ë°ì´í„° ì˜ˆì‹œ
    const QUESTIONS = {
      kor: [
        { word: 'íŒŒë‘', color: 'red', choices: ['íŒŒë‘', 'ë…¸ë‘', 'ì´ˆë¡', 'ë¹¨ê°•'], answer: 'ë¹¨ê°•' },
        { word: 'ë…¸ë‘', color: 'blue', choices: ['íŒŒë‘', 'ë…¸ë‘', 'ì´ˆë¡', 'ë¹¨ê°•'], answer: 'íŒŒë‘' },
        { word: 'ì´ˆë¡', color: 'yellow', choices: ['ì´ˆë¡', 'ë…¸ë‘', 'íŒŒë‘', 'ë¹¨ê°•'], answer: 'ë…¸ë‘' },
        { word: 'ë¹¨ê°•', color: 'green', choices: ['ë¹¨ê°•', 'ë…¸ë‘', 'ì´ˆë¡', 'íŒŒë‘'], answer: 'ì´ˆë¡' },
        { word: 'ë…¸ë‘', color: 'green', choices: ['ë¹¨ê°•', 'ë…¸ë‘', 'ì´ˆë¡', 'íŒŒë‘'], answer: 'ì´ˆë¡' },
        { word: 'ì´ˆë¡', color: 'red', choices: ['ë¹¨ê°•', 'ë…¸ë‘', 'ì´ˆë¡', 'íŒŒë‘'], answer: 'ë¹¨ê°•' },
        { word: 'íŒŒë‘', color: 'yellow', choices: ['ë¹¨ê°•', 'ë…¸ë‘', 'ì´ˆë¡', 'íŒŒë‘'], answer: 'ë…¸ë‘' },
        { word: 'ë¹¨ê°•', color: 'blue', choices: ['ë¹¨ê°•', 'ë…¸ë‘', 'ì´ˆë¡', 'íŒŒë‘'], answer: 'íŒŒë‘' },
        { word: 'ë…¸ë‘', color: 'red', choices: ['ë¹¨ê°•', 'ë…¸ë‘', 'ì´ˆë¡', 'íŒŒë‘'], answer: 'ë¹¨ê°•' },
        { word: 'ì´ˆë¡', color: 'blue', choices: ['ë¹¨ê°•', 'ë…¸ë‘', 'ì´ˆë¡', 'íŒŒë‘'], answer: 'íŒŒë‘' },
      ],
      eng: [
        { word: 'GREEN', color: 'yellow', choices: ['GREEN', 'YELLOW', 'BLUE', 'RED'], answer: 'YELLOW' },
        { word: 'RED', color: 'blue', choices: ['GREEN', 'YELLOW', 'BLUE', 'RED'], answer: 'BLUE' },
        { word: 'YELLOW', color: 'green', choices: ['GREEN', 'YELLOW', 'BLUE', 'RED'], answer: 'GREEN' },
        { word: 'BLUE', color: 'red', choices: ['GREEN', 'YELLOW', 'BLUE', 'RED'], answer: 'RED' },
        { word: 'RED', color: 'green', choices: ['GREEN', 'YELLOW', 'BLUE', 'RED'], answer: 'GREEN' },
        { word: 'YELLOW', color: 'blue', choices: ['GREEN', 'YELLOW', 'BLUE', 'RED'], answer: 'BLUE' },
        { word: 'GREEN', color: 'red', choices: ['GREEN', 'YELLOW', 'BLUE', 'RED'], answer: 'RED' },
        { word: 'BLUE', color: 'yellow', choices: ['GREEN', 'YELLOW', 'BLUE', 'RED'], answer: 'YELLOW' },
        { word: 'YELLOW', color: 'red', choices: ['GREEN', 'YELLOW', 'BLUE', 'RED'], answer: 'RED' },
        { word: 'GREEN', color: 'blue', choices: ['GREEN', 'YELLOW', 'BLUE', 'RED'], answer: 'BLUE' },
      ],
      shape: [
        { shape: 'circle', color: 'green', choices: ['ë™ê·¸ë¼ë¯¸', 'ì„¸ëª¨', 'ë„¤ëª¨', 'ë³„'], answer: 'ë™ê·¸ë¼ë¯¸' },
        { shape: 'triangle', color: 'red', choices: ['ë™ê·¸ë¼ë¯¸', 'ì„¸ëª¨', 'ë„¤ëª¨', 'ë³„'], answer: 'ì„¸ëª¨' },
        { shape: 'square', color: 'blue', choices: ['ë™ê·¸ë¼ë¯¸', 'ì„¸ëª¨', 'ë„¤ëª¨', 'ë³„'], answer: 'ë„¤ëª¨' },
        { shape: 'star', color: 'yellow', choices: ['ë™ê·¸ë¼ë¯¸', 'ì„¸ëª¨', 'ë„¤ëª¨', 'ë³„'], answer: 'ë³„' },
        { shape: 'circle', color: 'red', choices: ['ë™ê·¸ë¼ë¯¸', 'ì„¸ëª¨', 'ë„¤ëª¨', 'ë³„'], answer: 'ë™ê·¸ë¼ë¯¸' },
        { shape: 'triangle', color: 'green', choices: ['ë™ê·¸ë¼ë¯¸', 'ì„¸ëª¨', 'ë„¤ëª¨', 'ë³„'], answer: 'ì„¸ëª¨' },
        { shape: 'square', color: 'yellow', choices: ['ë™ê·¸ë¼ë¯¸', 'ì„¸ëª¨', 'ë„¤ëª¨', 'ë³„'], answer: 'ë„¤ëª¨' },
        { shape: 'star', color: 'blue', choices: ['ë™ê·¸ë¼ë¯¸', 'ì„¸ëª¨', 'ë„¤ëª¨', 'ë³„'], answer: 'ë³„' },
        { shape: 'circle', color: 'yellow', choices: ['ë™ê·¸ë¼ë¯¸', 'ì„¸ëª¨', 'ë„¤ëª¨', 'ë³„'], answer: 'ë™ê·¸ë¼ë¯¸' },
        { shape: 'triangle', color: 'blue', choices: ['ë™ê·¸ë¼ë¯¸', 'ì„¸ëª¨', 'ë„¤ëª¨', 'ë³„'], answer: 'ì„¸ëª¨' },
      ],
      baby: [
        { img: 'ğŸ', choices: ['ì‚¬ê³¼', 'ë°”ë‚˜ë‚˜', 'í¬ë„', 'ë”¸ê¸°'], answer: 'ì‚¬ê³¼' },
        { img: 'ğŸŒ', choices: ['ì‚¬ê³¼', 'ë°”ë‚˜ë‚˜', 'í¬ë„', 'ë”¸ê¸°'], answer: 'ë°”ë‚˜ë‚˜' },
        { img: 'ğŸ‡', choices: ['ì‚¬ê³¼', 'ë°”ë‚˜ë‚˜', 'í¬ë„', 'ë”¸ê¸°'], answer: 'í¬ë„' },
        { img: 'ğŸ“', choices: ['ì‚¬ê³¼', 'ë°”ë‚˜ë‚˜', 'í¬ë„', 'ë”¸ê¸°'], answer: 'ë”¸ê¸°' },
        { img: 'ğŸŠ', choices: ['ì˜¤ë Œì§€', 'ìˆ˜ë°•', 'ë³µìˆ­ì•„', 'ë°°'], answer: 'ì˜¤ë Œì§€' },
        { img: 'ğŸ‰', choices: ['ì˜¤ë Œì§€', 'ìˆ˜ë°•', 'ë³µìˆ­ì•„', 'ë°°'], answer: 'ìˆ˜ë°•' },
        { img: 'ğŸ‘', choices: ['ì˜¤ë Œì§€', 'ìˆ˜ë°•', 'ë³µìˆ­ì•„', 'ë°°'], answer: 'ë³µìˆ­ì•„' },
        { img: 'ğŸ', choices: ['ì˜¤ë Œì§€', 'ìˆ˜ë°•', 'ë³µìˆ­ì•„', 'ë°°'], answer: 'ë°°' },
        { img: 'ğŸ¥•', choices: ['ë‹¹ê·¼', 'ê°ì', 'ê³ êµ¬ë§ˆ', 'ë¬´'], answer: 'ë‹¹ê·¼' },
        { img: 'ğŸ¥”', choices: ['ë‹¹ê·¼', 'ê°ì', 'ê³ êµ¬ë§ˆ', 'ë¬´'], answer: 'ê°ì' },
      ]
    };
    const COLOR_MAP = {
      red: '#e06666',
      blue: '#6fa8dc',
      green: '#93c47d',
      yellow: '#ffd966',
      black: '#444',
      'ë¹¨ê°•': '#e06666',
      'íŒŒë‘': '#6fa8dc',
      'ì´ˆë¡': '#93c47d',
      'ë…¸ë‘': '#ffd966',
      'GREEN': '#93c47d',
      'BLUE': '#6fa8dc',
      'YELLOW': '#ffd966',
      'RED': '#e06666',
    };
    let currentMode = null;
    let currentIdx = 0;
    let score = 0;
    let timer = 0;
    let timerInterval = null;
    let currentDifficulty = 'normal';
    const DIFFICULTY_MAP = { easy: 5, normal: 10, hard: 20 };

    function selectDifficulty(diff) {
      currentDifficulty = diff;
      // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
      const btns = document.querySelectorAll('#difficultyArea button');
      btns.forEach(btn => btn.style.outline = 'none');
      if (diff === 'easy') btns[0].style.outline = '3px solid #b45f06';
      if (diff === 'normal') btns[1].style.outline = '3px solid #6fa8dc';
      if (diff === 'hard') btns[2].style.outline = '3px solid #e06666';
    }

    function selectMode(mode) {
      currentMode = mode;
      document.getElementById('modeScreen').style.display = 'none';
      document.getElementById('startScreen').style.display = 'flex';
      let title = '';
      if (mode === 'kor') title = 'í•œê¸€ ëª¨ë“œ';
      if (mode === 'eng') title = 'ì˜ì–´ ëª¨ë“œ';
      if (mode === 'shape') title = 'ëª¨ì–‘ ëª¨ë“œ';
      if (mode === 'baby') title = 'ë² ì´ë¹„ ëª¨ë“œ';
      document.getElementById('selectedModeTitle').textContent = title;
    }

    function startGame() {
      currentIdx = 0;
      score = 0;
      timer = 0;
      document.getElementById('timer').textContent = '0.0';
      document.getElementById('timerArea').style.display = 'flex';
      if (timerInterval) clearInterval(timerInterval);
      timerInterval = setInterval(() => {
        timer += 0.1;
        document.getElementById('timer').textContent = timer.toFixed(1);
      }, 100);
      document.getElementById('startScreen').style.display = 'none';
      document.getElementById('gameArea').style.display = 'flex';
      // ë‚œì´ë„ì— ë”°ë¼ ë¬¸ì œ ì…”í”Œ ë° ê°œìˆ˜ ì¡°ì •
      shuffleQuestions();
      showQuestion();
    }

    function shuffleQuestions() {
      // QUESTIONS[currentMode]ì—ì„œ ë‚œì´ë„ì— ë§ëŠ” ê°œìˆ˜ë§Œí¼ ëœë¤ ì¶”ì¶œ
      const arr = QUESTIONS[currentMode];
      let n = DIFFICULTY_MAP[currentDifficulty] || 10;
      // ë¬¸ì œ ìˆ˜ê°€ ë¶€ì¡±í•˜ë©´ ìµœëŒ€ì¹˜ë¡œ
      if (arr.length < n) n = arr.length;
      // í”¼ì…”-ì˜ˆì´ì¸  ì…”í”Œ
      let shuffled = arr.slice();
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      QUESTIONS[currentMode+"_shuffled"] = shuffled.slice(0, n);
    }

    function showQuestion() {
      const area = document.getElementById('gameArea');
      area.innerHTML = '';
      const q = QUESTIONS[currentMode+"_shuffled"][currentIdx];
      let questionHTML = '';
      if (currentMode === 'kor') {
        questionHTML = `<div class="question" style="color:${COLOR_MAP[q.color]}">${q.word}</div>`;
      } else if (currentMode === 'eng') {
        questionHTML = `<div class="question" style="color:${COLOR_MAP[q.color]}">${q.word}</div>`;
      } else if (currentMode === 'shape') {
        questionHTML = `<div class="question"><span style="font-size:3em;color:${COLOR_MAP[q.color]}">${shapeIcon(q.shape)}</span></div>`;
      } else if (currentMode === 'baby') {
        questionHTML = `<div class="question"><span style="font-size:3em;">${q.img}</span></div>`;
      }
      let choicesHTML = '<div class="choices">';
      q.choices.forEach(choice => {
        let style = '';
        if (currentMode === 'kor' || currentMode === 'eng') {
          style = `background:${COLOR_MAP[choice]||'#eee'};color:${['yellow','ë…¸ë‘','YELLOW'].includes(choice)?'#b45f06':'#fff'};`;
        }
        choicesHTML += `<button class="choice-btn" style="${style}" onclick="checkAnswer('${choice}')">${choice}</button>`;
      });
      choicesHTML += '</div>';
      // ëŒì•„ê°€ê¸° ë²„íŠ¼ ì¶”ê°€
      const backBtn = '<button class="next-btn" style="margin-top:2em;background:#6fa8dc;" onclick="goToModeSelect()">ê²Œì„ ì„ íƒí™”ë©´ìœ¼ë¡œ</button>';
      area.innerHTML = questionHTML + choicesHTML + '<div class="result" id="result"></div>' + backBtn;
    }

    function checkAnswer(choice) {
      const q = QUESTIONS[currentMode][currentIdx];
      const result = document.getElementById('result');
      if (choice === q.answer) {
        score++;
        result.textContent = 'ì •ë‹µ!';
        result.style.color = '#93c47d';
      } else {
        result.textContent = 'ì˜¤ë‹µ!';
        result.style.color = '#e06666';
      }
      setTimeout(() => {
        nextQuestion();
      }, 800);
    }

    function nextQuestion() {
      currentIdx++;
      if (currentIdx >= QUESTIONS[currentMode+"_shuffled"].length) {
        showResult();
      } else {
        showQuestion();
      }
    }

    function showResult() {
      const area = document.getElementById('gameArea');
      if (timerInterval) clearInterval(timerInterval);
      area.innerHTML = `<div class="result">ì ìˆ˜: ${score} / ${QUESTIONS[currentMode+"_shuffled"].length}<br>ì´ ì†Œìš” ì‹œê°„: <span style='font-weight:bold;'>${timer.toFixed(1)}ì´ˆ</span></div><button class="next-btn" onclick="restart()">ë‹¤ì‹œí•˜ê¸°</button><button class="next-btn" style="margin-left:1em;background:#6fa8dc;" onclick="goToModeSelect()">ê²Œì„ ì„ íƒí™”ë©´ìœ¼ë¡œ</button>`;
    }

    function restart() {
      document.getElementById('modeScreen').style.display = 'flex';
      document.getElementById('gameArea').style.display = 'none';
    }

    function shapeIcon(shape) {
      if (shape === 'circle') return 'â—';
      if (shape === 'triangle') return 'â–²';
      if (shape === 'square') return 'â– ';
      if (shape === 'star') return 'â˜…';
      return '?';
    }

    // ëª¨ë“œ ì„ íƒí™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê¸° í•¨ìˆ˜
    function goToModeSelect() {
      document.getElementById('modeScreen').style.display = 'flex';
      document.getElementById('gameArea').style.display = 'none';
      document.getElementById('startScreen').style.display = 'none';
      document.getElementById('timerArea').style.display = 'none';
      if (timerInterval) clearInterval(timerInterval);
      // ë‚œì´ë„ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”
      selectDifficulty(currentDifficulty);
    }

    // í˜ì´ì§€ ë¡œë“œì‹œ ê¸°ë³¸ ë‚œì´ë„ ì„ íƒ
    window.onload = () => { selectDifficulty('normal'); };
  </script>
</body>
</html> 